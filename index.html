<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <title>Image Viewer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
        }

        body {
            min-height: 100vh;
            min-height: 100dvh;
            background: #000000;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', sans-serif;
            padding: 0;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .container {
            width: 100%;
            height: 100vh;
            height: 100dvh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        @media (min-width: 768px) {
            .container {
                padding: 40px;
            }
        }

        @media (min-width: 1200px) {
            .container {
                padding: 60px;
            }
        }

        .image-wrapper {
            position: relative;
            max-width: 100%;
            max-height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .image-wrapper img {
            max-width: 100%;
            max-height: calc(100vh - 40px);
            max-height: calc(100dvh - 40px);
            width: auto;
            height: auto;
            object-fit: contain;
            border-radius: 12px;
            box-shadow: 
                0 0 0 1px rgba(255, 255, 255, 0.05),
                0 20px 50px -12px rgba(0, 0, 0, 0.8),
                0 0 100px -20px rgba(255, 150, 100, 0.15);
            transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94),
                        box-shadow 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        @media (min-width: 768px) {
            .image-wrapper img {
                max-height: calc(100vh - 80px);
                max-height: calc(100dvh - 80px);
                border-radius: 16px;
            }
        }

        @media (min-width: 1200px) {
            .image-wrapper img {
                max-height: calc(100vh - 120px);
                max-height: calc(100dvh - 120px);
                border-radius: 20px;
            }

            .image-wrapper img:hover {
                transform: scale(1.02);
                box-shadow: 
                    0 0 0 1px rgba(255, 255, 255, 0.08),
                    0 30px 70px -15px rgba(0, 0, 0, 0.9),
                    0 0 120px -10px rgba(255, 150, 100, 0.2);
            }
        }

        .error-container {
            text-align: center;
            padding: 40px 30px;
            max-width: 400px;
        }

        @media (min-width: 768px) {
            .error-container {
                padding: 60px 50px;
                max-width: 480px;
            }
        }

        .error-icon {
            margin-bottom: 28px;
            opacity: 0.9;
        }

        .error-icon svg {
            width: 80px;
            height: 80px;
        }

        @media (min-width: 768px) {
            .error-icon svg {
                width: 100px;
                height: 100px;
            }
        }

        .error-text {
            font-size: 20px;
            font-weight: 600;
            letter-spacing: -0.02em;
            margin-bottom: 12px;
            color: #f5f5f7;
        }

        @media (min-width: 768px) {
            .error-text {
                font-size: 24px;
                margin-bottom: 16px;
            }
        }

        .error-hint {
            font-size: 14px;
            line-height: 1.6;
            color: #86868b;
            font-weight: 400;
        }

        @media (min-width: 768px) {
            .error-hint {
                font-size: 15px;
                line-height: 1.7;
            }
        }

        code {
            display: inline-block;
            margin-top: 16px;
            background: rgba(255, 255, 255, 0.06);
            padding: 10px 16px;
            border-radius: 8px;
            font-size: 12px;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', monospace;
            color: #a1a1a6;
            border: 1px solid rgba(255, 255, 255, 0.08);
            word-break: break-all;
        }

        @media (min-width: 768px) {
            code {
                font-size: 13px;
                padding: 12px 20px;
                margin-top: 20px;
            }
        }

        .loading {
            width: 40px;
            height: 40px;
            border: 3px solid rgba(255, 255, 255, 0.1);
            border-top-color: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @keyframes fadeIn {
            from { 
                opacity: 0;
                transform: scale(0.98);
            }
            to { 
                opacity: 1;
                transform: scale(1);
            }
        }

        .image-wrapper img {
            animation: fadeIn 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .error-container {
            animation: fadeIn 0.4s ease-out;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="image-wrapper" id="wrapper">
            <div class="loading" id="loader"></div>
        </div>
    </div>

    <script>
        const params = new URLSearchParams(window.location.search);
        const imageUrl = params.get('url');
        const wrapper = document.getElementById('wrapper');
        const loader = document.getElementById('loader');

        const noUrlSvg = `
            <svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="8" y="20" width="84" height="60" rx="6" stroke="#3a3a3c" stroke-width="2" fill="none"/>
                <circle cx="28" cy="42" r="8" stroke="#3a3a3c" stroke-width="2" fill="none"/>
                <path d="M8 62 L35 45 L55 58 L75 38 L92 52" stroke="#3a3a3c" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                <circle cx="50" cy="50" r="20" fill="#000" stroke="#48484a" stroke-width="2"/>
                <text x="50" y="58" text-anchor="middle" fill="#86868b" font-size="24" font-weight="500" font-family="-apple-system, BlinkMacSystemFont, sans-serif">?</text>
            </svg>
        `;

        const errorSvg = `
            <svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="8" y="20" width="84" height="60" rx="6" stroke="#3a3a3c" stroke-width="2" fill="none"/>
                <circle cx="28" cy="42" r="8" stroke="#3a3a3c" stroke-width="2" fill="none"/>
                <path d="M8 62 L35 45 L55 58 L75 38 L92 52" stroke="#3a3a3c" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                <circle cx="50" cy="50" r="20" fill="#000" stroke="#ff453a" stroke-width="2"/>
                <path d="M42 42 L58 58 M58 42 L42 58" stroke="#ff453a" stroke-width="2.5" stroke-linecap="round"/>
            </svg>
        `;

        function showError(type) {
            const isNoUrl = type === 'no-url';
            wrapper.innerHTML = `
                <div class="error-container">
                    <div class="error-icon">${isNoUrl ? noUrlSvg : errorSvg}</div>
                    <div class="error-text">${isNoUrl ? 'No Image URL' : 'Unable to Load'}</div>
                    <div class="error-hint">
                        ${isNoUrl 
                            ? 'Pass an image URL as a parameter to view it here.<code>?url=https://example.com/image.jpg</code>' 
                            : 'The image couldn\'t be loaded. Please verify the URL is correct and accessible.'}
                    </div>
                </div>
            `;
        }

        if (imageUrl) {
            const img = document.createElement('img');
            img.src = imageUrl;
            img.alt = 'Image';
            
            img.onload = () => {
                loader.remove();
                wrapper.appendChild(img);
            };
            
            img.onerror = () => {
                loader.remove();
                showError('load-error');
            };
        } else {
            loader.remove();
            showError('no-url');
        }
    </script>
</body>
</html>
